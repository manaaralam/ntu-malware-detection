# -*- coding: utf-8 -*-
"""
Created on Mon Sep 25 13:41:48 2017

@author: N1705165D
"""

import matplotlib.pyplot as plt

with open("0.0001_score.txt", "r") as inp:
    content = inp.readlines()

uni = []
for item in content:
    uni.append(float(item))

bu = uni[0:10]
mu = uni[10:]
    
with open("score.txt", "r") as inp:
    content = inp.readlines()

multi = []
for item in content:
    multi.append(float(item))

bm = multi[0:10]
mm = multi[10:]

threshold = []

for _ in range(10):
    threshold.append(0.7261335084333227)

danger_upper = 0.7261335084333227 + (0.1 * 0.7261335084333227)
danger_lower = 0.7261335084333227 - (0.1 * 0.7261335084333227)

plt.fill_between([0, 9], danger_lower, danger_upper, color = 'red', alpha=0.1, label="Critical Zone")

plt.plot(mu, label="Score after Univariate t-test")
plt.plot(mm, label="Score after Multivariate t-test")
plt.plot(threshold, 'r--', label="Threshold")
plt.xlabel("Program Under Test (Malware)")
plt.ylabel("Score (lambda)")
plt.ylim(0.5, 1.1)
plt.title("Comparison of Univariate and Multivariate t-test")

plt.plot(3, mu[3], "o", color="green")
plt.plot(3, mm[3], "o", color="green")
plt.plot(5, mu[5], "o", color="green")
plt.plot(5, mm[5], "o", color="green")
plt.annotate('Malware 4\n(0.757339, 0.999998)', xy=(3, mu[3]), xytext=(1, 0.55))
plt.annotate('', xy=(3, mu[3]), xytext=(2, 0.62), arrowprops=dict(facecolor='black', width=1))
plt.annotate('', xy=(3, mm[3]), xytext=(2, 0.62), arrowprops=dict(facecolor='black', width=1))

plt.annotate('Malware 6\n(0.716291, 0.999998)', xy=(5, mu[5]), xytext=(6, 0.55))
plt.annotate('', xy=(5, mu[5]), xytext=(6.5, 0.62), arrowprops=dict(facecolor='black', width=1))
plt.annotate('', xy=(5, mm[5]), xytext=(6.5, 0.62), arrowprops=dict(facecolor='black', width=1))

plt.annotate('0.726133', xy=(0, 0.74), xytext=(0, 0.74))
plt.annotate('+10%', xy=(0, 0.81), xytext=(0, 0.81))
plt.annotate('-10%', xy=(0, 0.62), xytext=(0, 0.62))

plt.legend(bbox_to_anchor=(1, 1))
plt.tight_layout()
#plt.show()
plt.savefig("malware_higher_order.png", bbox_inches='tight')